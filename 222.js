xinchao
222
arn","yarn":">= 1.22.4"},"lint-staged":{"*.js":["eslint"],"*.a
ble",textAlign:"center"}}),P=e=>{const t=E(),[s,i]=l.useState(!1),{title:n,message:a,note:r,onConfirm:o,onReject:d,confirmText:c="Confirm",icon:h,...m}=e,u=(0,v.Z)("(max-width:600px)");return(0,k.jsxs)(y.Z,{open:!0,maxWidth:"xs",fullWidth:!0,fullScreen:u,"data-testid":"paradigm-conform-modal",classes:{paper:t.paper},...m,children:[(0,k.jsx)(N,{children:h}),(0,k.jsx)(f.Z,{children:n}),(0,k.jsx)(b.Z,{children:(0,k.jsx)(C.Z,{children:(e=>{const t=/(https?:\/\/[^\s]+)/g,s=Array.isArray(e)?e[0]??"":e;return t.test(s)?s.replace(t,(e=>`<a href="${e}" style="color:#7fabec;" target="_blank">${e}</a>`)):s})(a)})}),(0,k.jsxs)(b.Z,{children:[d&&(0,k.jsx)(_,{secondary:!0,text:"Cancel",onClick:d}),(0,k.jsx)(_,{text:c,onClick:async()=>{i(!0);try{await o()}catch(e){d&&d()}},busy:s})]}),r&&(0,k.jsx)(b.Z,{children:(0,k.jsx)(C.Z,{variant:"caption",color:"textSecondary",children:r})})]})};var T=s(64082),I=s(84403),B=s(6222),L=s(48258),M=s(15440),R=s(95272),D=s(40363);const q=s.p+"static/img/logo.2b7eb9f.png";function F(){return(0,k.jsx)("svg",{width:"19px",height:"16px",viewBox:"0 0 19 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,k.jsx)("g",{id:"telegram-icon-help",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,k.jsx)("g",{id:"dashboard-/-help",transform:"translate(-1258.000000, -30.000000)",fillRule:"nonzero",stroke:"#7FABEC",children:(0,k.jsx)("g",{id:"icon-/-Help",children:(0,k.jsx)("path",{d:"M1260.16866,37.1924832 C1264.73205,35.1624821 1267.77503,33.8241811 1269.29759,33.1775802 C1273.64481,31.3314033 1274.54813,31.0107026 1275.1369,31 C1275.26639,30.9977838 1275.55593,31.0305511 1275.74348,31.1859358 C1275.90184,31.3171395 1275.94542,31.4943772 1275.96627,31.6187727 C1275.98712,31.7431683 1276.01308,32.0265446 1275.99244,32.2479666 C1275.75687,34.7752419 1274.73753,40.9082725 1274.21894,43.7388641 C1273.99951,44.9365935 1273.56745,45.3381861 1273.14915,45.3774872 C1272.24011,45.4628977 1271.54982,44.7640962 1270.66937,44.1748129 C1269.29163,43.2527008 1268.5133,42.6786832 1267.17597,41.7788722 C1265.63045,40.7389849 1266.63235,40.1674448 1267.51313,39.2333882 C1267.74364,38.9889412 1271.74891,35.2692413 1271.82643,34.9318062 C1271.83612,34.8896043 1271.84512,34.7322956 1271.75359,34.6492309 C1271.66206,34.5661661 1271.52697,34.594571 1271.42949,34.6171617 C1271.29131,34.6491833 1269.09035,36.1345173 1264.82663,39.0731636 C1264.2019,39.5111731 1263.63604,39.7245859 1263.12904,39.7134023 C1262.57012,39.7010733 1261.49498,39.3907356 1260.69573,39.1254667 C1259.71541,38.8001036 1258.93627,38.6280817 1259.00412,38.0755145 C1259.03946,37.7877033 1259.42764,37.4933595 1260.16866,37.1924832 Z"})})})})})}var K=s(13476),O=s.n(K),z=s(1658),W=s.n(z);const G=e=>{e&&localStorage.setItem("admin_token",e)},V=()=>localStorage.getItem("admin_token");function $(e){const t=V();return t&&(e.headers.Authorization=`JWT ${t}`),e}function U(e){return Promise.reject(e)}function Q(e){return function(e){const t=e.headers["refreshed-token"];null!=t&&G(t)}(e),e.data}function H({response:{data:e,status:t,headers:s}={},message:i}){const n=function(e){return e?.non_field_errors||e?.detail||e?.message||e?.totp_token||e?.access_secret}(e);return 403!==t&&401!==t?n&&wl.valid&&g.setError(n):wl.failedAuth("Session expired. Please log in"),Promise.reject(n||i)}const J=W().create({baseURL:"https://rest.testnet.paradigm.trade",headers:{"Content-Type":"application/json"}});J.interceptors.request.use($,U),J.interceptors.response.use(Q,H);const Y=J,X=()=>Y.get("/account/user/dashboard/"),ee=e=>Y.get(`/search/trading-desk/add-member/?search=${e}`),te=()=>Y.get("/trading-desk/info/"),se=(e,t)=>Y.get(`trading-desk/entity/${e}/venue/${t}/restrictions`),ie=e=>Y.post("/trading-desk/trade-recap-email-list/",e),ne=({venue:e,apiKey:t,apiSecret:s,subaccount:i},n={})=>Y.post("/trading-desk/venue-keys/validation/",{venue:e,api_key:t,api_secret:s,subaccount:i},n),ae={NV:"#003366",GE:"#339966",TL:"#68A2BF",RD:"#BD264A",GR:"#664BAD",OG:"#E08F39",LC:"#CC99FF",YL:"#F6597F"},re={AD:{name:"Desk Administrator",permissions:{viewAllData:{name:"View All Data",value:!0},manageCounterparties:{name:"Manage Counterparties",value:!0},trade:{name:"Trade",value:!0},manageMembers:{name:"Manage Members",value:!0}}},TR:{name:"Trader",permissions:{viewAllData:{name:"View All Data",value:!0},manageCounterparties:{name:"Manage Counterparties",value:!0},trade:{name:"Trade",value:!0},manageMembers:{name:"Manage Members",value:!1}}},AN:{name:"Analyst",permissions:{viewAllData:{name:"View All Data",value:!0},manageCounterparties:{name:"Manage Counterparties",value:!0},trade:{name:"Trade",value:!1},manageMembers:{name:"Manage Members",value:!1}}},VI:{name:"Viewer",permissions:{viewAllData:{name:"View All Data",value:!0},manageCounterparties:{name:"Manage Counterparties",value:!1},trade:{name:"Trade",value:!1},manageMembers:{name:"Manage Members",value:!1}}}},le=[{value:"FT",label:"Futures"},{value:"OP",label:"Options"}];class oe{get isAdmin(){return"AD"===this.type}get isTrader(){return"TR"===this.type}get isAnalyst(){return"AN"===this.type}get isViewer(){return"VI"===this.type}get role(){return re[this.type].name}}var de=s(50807),ce=s.n(de),he=s(52658),me=s.n(he);class ue{id;name;accessKey;isEnabled;allowed_cidrs;readOnly;constructor(e){(0,p.rC)(this,{id:p.LO,name:p.LO,accessKey:p.LO,isEnabled:p.LO,allowed_cidrs:p.LO,formattedAccessKey:p.Fl,getAllowedCidrs:p.Fl,readOnly:p.LO}),this.id=e.id,this.name=e.label,this.accessKey=e.access_key,this.isEnabled=e.is_enabled,this.prefix=e.prefix,this.allowed_cidrs=e.allowed_cidrs,this.readOnly=e.read_only}get formattedAccessKey(){return`${this.prefix}â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢`}get getAllowedCidrs(){return(0,p.ZN)(this.allowed_cidrs)}}const xe=new class{_apiCredentials={};tradingDeskId=null;setApiCredentials=(e,t)=>{this._apiCredentials=me()(e.map((e=>new ue(e))),"id"),this.tradingDeskId=t};createCredential=async({name:e,allowed_cidrs:t,read_only:s})=>{const i=await((e,t,s,i)=>Y.post(`/trading-desk/${e}/apikeys/`,{label:t,allowed_cidrs:s,read_only:i}))(this.tradingDeskId,e,t,s);return this._apiCredentials[i.id]=new ue(i),i};removeCredential=async e=>{var t,s;await(t=this.tradingDeskId,s=e,Y.delete(`/trading-desk/${t}/apikeys/${s}/`)),delete this._apiCredentials[e]};updateCredential=async e=>{const t=await(({tradingDeskId:e,apiKeyId:t,payload:s})=>Y.patch(`/trading-desk/${e}/apikeys/${t}/`,s))({apiKeyId:e.id,tradingDeskId:this.tradingDeskId,payload:{label:e.name,allowed_cidrs:e.allowed_cidrs,...e}});this._apiCredentials[t.id]=new ue(t)};reset=()=>{this._apiCredentials={},this.tradingDeskId=null};constructor(){(0,p.rC)(this,{_apiCredentials:p.LO,tradingDeskId:p.LO,setApiCredentials:p.aD,createCredential:p.aD,removeCredential:p.aD,updateCredential:p.aD,reset:p.aD,apiCredentials:p.Fl})}get apiCredentials(){return Object.values(ce()(this._apiCredentials,(e=>e.name.toLowerCase())))}};window.apiCredentialManagement=xe;const pe=(0,l.createContext)(xe);var ge=s(81908),je=s.n(ge),ye=s(69783),be=s.n(ye),fe=s(84004);const Ce=({amount:e,digits:t=2,symbol:s="$",short:i})=>{if(be()(e))return"";const n=[{value:1,symbol:""},{value:1e3,symbol:i?"K":"Thousands (K)"},{value:1e6,symbol:i?"M":"Million (M)"},{value:1e9,symbol:i?"B":"Billion (B)"},{value:1e12,symbol:i?"T":"Trillion (T)"}];let a;for(a=n.length-1;a>0&&!(e>=n[a].value);a--);return`${s}${(e/n[a].value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")}${n[a].symbol?` ${n[a].symbol}`:""}`},Ze=({amount:e,digits:t,symbol:s})=>Ce({amount:e,digits:t,symbol:s,short:!1}),ve=({amount:e,digits:t,symbol:s})=>Ce({amount:e,digits:t,symbol:s,short:!0}),we=fe.Z_().test("ipAddress","Invalid IP address",(e=>{if(!je()(e)){let t=e.split(/\r?\n/),s=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/([0-9]|[1-2][0-9]|3[0-2]))?$/;for(let e=0;e<t.length;e++)if(!s.test(t[e])&&!je()(t[e]))return!1}return!0})),Ae=fe.Z_().test("emails","Invalid email address",(e=>{if(!je()(e)){let t=e.split(/\r?\n/),s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;for(let e=0;e<t.length;e++)if(!s.test(t[e])&&!je()(t[e]))return!1}return!0})),ke=e=>je()(e)?[]:e.split(/\r?\n/).filter((e=>e.length>0));class Se{creditLimit;tradingLimit;constructor(e){(0,p.rC)(this,{creditLimit:p.LO,tradingLimit:p.LO,setLimits:p.aD}),this.creditLimit=e.credit_limit,this.tradingLimit=e.trading_limit}setLimits=e=>{this.creditLimit=e.credit_limit,this.tradingLimit=e.trading_li
